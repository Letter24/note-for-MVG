# 3D Reconstruction of Cameras and Structure

本章主要描述了如何利用2张图片来恢复相机的参数以及物体在三维空间中的形状。

## 问题 
第一个问题：三维空间的点 $X_i$,这是未知量。已知量是：$x_i$位于第一幅图像, $x^{'}_i$位于第一幅图像。而且已知$x_i$与$x^{'}_i$是相互对应的：$x_i \leftrightarrow x^{'}_i$，他们都是$X_i$分别在第一第二幅图像上的投影点，用公式表示为：$x_i = PX_i$, $x^{'}_i = P^{'}X_i$
三维重建就是要找到$P, P^{'}$ 并且重建是有歧义的，歧义具体是指什么，如何消除这种歧义。这是第二个问题。

## 三维重建的具体过程
1. 根据$x_i \leftrightarrow x^{'}_i$计算基本矩阵$F$, 其具体过程在11章叙述
2. 根据F求出摄像机外参$R,T$，具体过程参见结论 9.14
3. 根据$R,T$，$x_i \leftrightarrow x^{'}_i$ 求解$X_i$，这个过程叫三角化（Triangulation），具体步骤在12章

**要点**：**三角化唯一不能确定的点就是基线上的点。因为从两个光心出发的射线互相重合了**

## 重建中的歧义

如果我们仅仅知道若干图像，是不可能恢复出三维空间点的绝对位置。
原因如下：
我们定义相似变换$H_S$

$$
 \left[
 \begin{matrix}
   R & t \\
   0^T & \lambda \\
  \end{matrix}
  \right] 
$$

我们有$PX_i = (PH^{-1}_s) (H_sX_i)$,因为$\lambda$是任意的，所以有很多的$H_s$可以满足前式。几何解释参见书中265页图10.2.

如果摄像机的内参也不知道，那么$H$矩阵就是不相似变换了，而是投影变换，投影变换只能保持直线还是直线，但是直线之间的角度就无法保持了。

以下介绍几种不同的重建类型。

## projective reconstruction

projective reconstruction的特点是相机没有标定。

**结论 10.1**：如果两幅图像中若干对应点已知，具体表示为$x_i \leftrightarrow x^{'}_i$，那么我们可以求出基本矩阵$F$, 只需要$F$就可以重建出三维空间中的点。而且任意更换相机投影矩阵，对重建没有影响，因为不同重建之间是等价的（比如第一次重建用的是$P_1,P^{'}_1$,第二次重建用的是$P_2,P^{'}_2$，但是点不能换，不管第一次重建还是第二次重建，都是用$x_i \leftrightarrow x^{'}_i$）具体见书266页