# 仿射对极几何

本章主要是在仿射摄像机的情况下重新考虑对极几何.
仿射摄像机的优点是他是线性的, 所以很多最优化算法可以用线性代数的知识解决. 如果是一般的投影摄像机, 很多算法就不是线性的了, 比如三角化.

## 14.1 仿射对极几何

仿射摄像机的特点是它的光心在无穷远, 所以从三维空间像二维平面投影时, 投影射线时互相平行的. 在这种情况下, 对极几何就可以得到简化.

**极线** 所有极线都是互相平行的. 因为不同点向图像投影的射线是平行的

**极点** 因为所有极线互相平行, 那么极点在无穷远处.

## 14.2 仿射基本矩阵

仿射基本矩阵$F_A$长这样

$$
\left[
\begin{matrix}
0 & 0 & a \\
0 & 0 & b \\
c & d & e \\
\end{matrix}
\right]
$$
因为$a,b,c,d,e$都不为0, 那么$F_A$的秩就是3, 一般的$F$秩是2

## 14.2.1 $F_A$的推导过程


**从几何角度推导$F_A$的过程**
1. 考虑对应点之间的对应关系. 因为从图像1到空间平面,再到图像2的所有变换都是基于平面的仿射变换, 所以对应点之间的变换也是仿射变换, 也就是$x'=H_A x$
2. 构造极线. 极线是通过极点和$x'$构造的. 所以$l'=e' \times H_A x =F_A x$, 所以$F_A=[e']_{\times} H_A$, 具体展开如下:

$$
F_A =[e']_{\times} H_A \\ 
= \left[
      \begin{matrix}
      0 & 0 & * \\     
      0 & 0 & * \\
      * & * & 0 \\
      \end{matrix}
  \right] 

  \left[
      \begin{matrix}
      * & * & * \\ 
      * & * & * \\
      0 & 0 & 1 \\
      \end{matrix}
  \right]            \\

= \left[
      \begin{matrix}
      0 & 0 & * \\ 
      0 & 0 & * \\
      * & * & * \\
      \end{matrix}
  \right]
$$


**从代数角度推导$F_A$的过程**

$F=[e']_{\times}P'P^{+}$, 把仿射摄像机的矩阵带入即可.

## 14.2.2 性质

$F_A$四个自由度, 两个极点,每个贡献一个自由度. 两个平面上的极线互相映射, 贡献两个自由度.

因为$F_A e = 0$, 所以极点表示为(-d,c,0), 所以$e$在$l_{\infty}$
点$x$对应的极线$l'=F_A x=(a,b,cx+dy+e)^T$, 此式表明所有的极线都是平行的, 因为$(a,b)$与$(x,y)$互相独立

14.3 